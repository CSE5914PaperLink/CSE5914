{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/athinshetty/Documents/VSCode%20work/capstone/CSE5914/frontend/app/library/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\ntype Metadata = { [key: string]: string | number | boolean | null | undefined };\n\ninterface LibraryItem {\n  id: string;\n  metadata: Metadata;\n  document?: string | null;\n}\n\nexport default function LibraryPage() {\n  const [items, setItems] = useState<LibraryItem[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchItems = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await fetch(\"/api/library/list\");\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || \"Failed to load library\");\n      setItems(data.results || []);\n    } catch (e) {\n      setError((e as Error).message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchItems();\n  }, []);\n\n  return (\n    <div className=\"bg-gray-50 min-h-screen\">\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        <div className=\"mb-8 flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Library</h1>\n            <p className=\"text-gray-600\">Your ingested arXiv papers</p>\n          </div>\n          <button\n            onClick={fetchItems}\n            className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg\"\n            disabled={loading}\n          >\n            {loading ? \"Refreshing...\" : \"Refresh\"}\n          </button>\n        </div>\n        {error && (\n          <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6\">\n            {error}\n          </div>\n        )}\n        {items.length === 0 && !loading && !error && (\n          <div className=\"text-center py-12 text-gray-500\">\n            No papers added yet.\n          </div>\n        )}\n        <div className=\"space-y-4\">\n          {items.map((item) => (\n            <div key={item.id} className=\"bg-white rounded-lg shadow p-6\">\n              <div className=\"flex items-start justify-between gap-4\">\n                <div className=\"flex-1\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                    {item.metadata.title || item.metadata.arxiv_id || item.id}\n                  </h3>\n                  <p className=\"text-sm text-gray-600 mb-2\">\n                    {item.metadata.authors ||\n                      item.metadata.author ||\n                      item.metadata.arxiv_id}\n                  </p>\n                  {item.document && (\n                    <p className=\"text-gray-700 text-sm whitespace-pre-line\">\n                      {item.document}\n                    </p>\n                  )}\n                  <div className=\"mt-2 text-xs text-gray-500 flex flex-wrap gap-3\">\n                    {item.metadata.arxiv_id && (\n                      <span>üÜî {item.metadata.arxiv_id}</span>\n                    )}\n                    {item.metadata.length && (\n                      <span>üìù {item.metadata.length} chars</span>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAYe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iRAAQ,EAAgB,EAAE;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iRAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iRAAQ,EAAgB;IAElD,MAAM,aAAa;QACjB,WAAW;QACX,SAAS;QACT,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAC3C,SAAS,KAAK,OAAO,IAAI,EAAE;QAC7B,EAAE,OAAO,GAAG;YACV,SAAS,AAAC,EAAY,OAAO;QAC/B,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,kRAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,qBACE,8SAAC;QAAI,WAAU;kBACb,cAAA,8SAAC;YAAI,WAAU;;8BACb,8SAAC;oBAAI,WAAU;;sCACb,8SAAC;;8CACC,8SAAC;oCAAG,WAAU;8CAAwC;;;;;;8CACtD,8SAAC;oCAAE,WAAU;8CAAgB;;;;;;;;;;;;sCAE/B,8SAAC;4BACC,SAAS;4BACT,WAAU;4BACV,UAAU;sCAET,UAAU,kBAAkB;;;;;;;;;;;;gBAGhC,uBACC,8SAAC;oBAAI,WAAU;8BACZ;;;;;;gBAGJ,MAAM,MAAM,KAAK,KAAK,CAAC,WAAW,CAAC,uBAClC,8SAAC;oBAAI,WAAU;8BAAkC;;;;;;8BAInD,8SAAC;oBAAI,WAAU;8BACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8SAAC;4BAAkB,WAAU;sCAC3B,cAAA,8SAAC;gCAAI,WAAU;0CACb,cAAA,8SAAC;oCAAI,WAAU;;sDACb,8SAAC;4CAAG,WAAU;sDACX,KAAK,QAAQ,CAAC,KAAK,IAAI,KAAK,QAAQ,CAAC,QAAQ,IAAI,KAAK,EAAE;;;;;;sDAE3D,8SAAC;4CAAE,WAAU;sDACV,KAAK,QAAQ,CAAC,OAAO,IACpB,KAAK,QAAQ,CAAC,MAAM,IACpB,KAAK,QAAQ,CAAC,QAAQ;;;;;;wCAEzB,KAAK,QAAQ,kBACZ,8SAAC;4CAAE,WAAU;sDACV,KAAK,QAAQ;;;;;;sDAGlB,8SAAC;4CAAI,WAAU;;gDACZ,KAAK,QAAQ,CAAC,QAAQ,kBACrB,8SAAC;;wDAAK;wDAAI,KAAK,QAAQ,CAAC,QAAQ;;;;;;;gDAEjC,KAAK,QAAQ,CAAC,MAAM,kBACnB,8SAAC;;wDAAK;wDAAI,KAAK,QAAQ,CAAC,MAAM;wDAAC;;;;;;;;;;;;;;;;;;;;;;;;2BArB/B,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;AAgC7B","debugId":null}}]
}